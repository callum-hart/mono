<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>YouTube [mono example]</title>

    <link rel="stylesheet" href="vendor/css/complete-me.min.css">
    <link rel="stylesheet" href="vendor/webfonts/ss-pika.css">

    <link rel="stylesheet" href="out/app.css">
</head>
<body>

<nav class="nav">
    <div class="nav__controls">
        <a href="" class="nav__menu-icon ss-rows"></a>
        <a href="" class="nav__logo">
            <img src="vendor/images/logo.png" alt="">
        </a>
    </div>

    <a href=""
        class="nav__close-search ss-left"
        id="close-nav-search--js"
        data-action="CLOSE"></a>

    <form class="nav__search-form">
        <div class="nav__search-field">
            <div id="nav-search-input--js" class="nav__search-input"></div>
            <button type="submit" class="nav__search-button ss-search"></button>
        </div>
    </form>

    <div class="nav__links">
        <a href=""
            class="nav__link ss-search"
            id="open-nav-search--js"
            data-action="OPEN"></a>
        <a href="" class="nav__link ss-upload"></a>
        <a href="" class="nav__link ss-notifications"></a>
        <a href="">
            <img src="vendor/images/profile-pic.png"
                alt=""
                class="*gravatar--s nav__gravatar">
        </a>
    </div>
</nav>

<script src="vendor/js/complete-me.min.js"></script>

<script>
    // Initialise search input

    const recentSearches = [
        'How to win CSS specificity wars?',
        'Remove cascade from CSS',
        'Remove specificity from CSS',
        'How to write better CSS?',
        'Make CSS more predictable',
        'Methodologies for managable CSS',
        'Strategies for scalable CSS',
        'Is !important my only ally?',
        'Do I really need to write CSS in JavaScript?',
        'Beginners guide to JavaScript'
    ];

    const navSearch = new CompleteMe("#nav-search-input--js", {
      data: recentSearches,
      placeholder: 'Search'
    });

    // Handle nav state (search open / closed)

    const nav = document.querySelector('.nav');
    const navInput = nav.querySelector('.cm-input');
    const openNavSearch = nav.querySelector('#open-nav-search--js');
    const closeNavSearch = nav.querySelector('#close-nav-search--js')

    const toggleNavSearch = (e) => {
        e.preventDefault();
        const action = e.target.dataset.action;

        switch (action) {
            case 'OPEN': {
                nav.classList.add('nav--search-open');
                return navInput.focus();
            }
            case 'CLOSE': {
                return nav.classList.remove('nav--search-open');
            }
        }
    }

    openNavSearch.addEventListener('click', toggleNavSearch);
    closeNavSearch.addEventListener('click', toggleNavSearch);

</script>

</body>
</html>